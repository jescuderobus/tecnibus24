<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Custom hotspots - Pikachu en Baltimore</title>
    <script type="text/javascript" src="js/bootstrap-native.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600%7CSource+Code+Pro:400,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/pygments.css">
    <link rel="stylesheet" href="css/pannellum.css" />
    <script type="text/javascript" src="js/pannellum.js"></script>
    <link rel="stylesheet" href="css/style.css">

    <style>

    .custom-hotspot {
        height: 50px;
        width: 50px;
        background: #f00;
    }

    .custom-hotspot-pokemon {
        height: 50px;
        width: 50px;
        user-select: none;
    }
    div.custom-tooltip span {
        visibility: hidden;
        position: absolute;
        border-radius: 3px;
        background-color: #fff;
        color: #000;
        text-align: center;
        max-width: 200px;
        padding: 5px 10px;
        margin-left: -220px;
        cursor: default;
    }
    div.custom-tooltip:hover span{
        visibility: visible;
    }
    div.custom-tooltip:hover span:after {
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        border-width: 10px;
        border-style: solid;
        border-color: #fff transparent transparent transparent;
        bottom: -20px;
        left: -10px;
        margin: 0 50%;
    }

     /* The Modal (background) */
    .modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal Content/Box */
    .modal-content {
    background-color: #fefefe;
    margin: 15% auto; /* 15% from the top and centered */
    padding: 20px;
    border: 1px solid #888;
    width: 80%; /* Could be more or less, depending on screen size */
    }

    /* The Close Button */
    .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    }

    .close:hover,
    .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
    } 
    </style>
</head>
<body>

<div id="panorama" style="width:100%;height:100%;"></div>

<div id="pika1" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <p style="height:25vh;overflow-y: auto;">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Earum, adipisci numquam, expedita fugit recusandae rerum possimus sint dolorum omnis nemo corporis hic laborum voluptatum voluptatem ab est inventore totam quidem.</p>
    </div>
</div>

<script>
// Create viewer
pannellum.viewer = pannellum.viewer('panorama', {
    "type": "equirectangular",
    "panorama": "../../../SHARED/fotos360/240228Andalucia/bma-1.jpg",
    "compass": true,
    "sceneFadeDuration": 1000,
    "autoLoad": true,

    "hotSpots": [
        {
            "pitch": 14.1,
            "yaw": 1.5,
            "cssClass": "custom-hotspot",
            "createTooltipFunc": hotspot,
            "createTooltipArgs": "Baltimore Museum of Art",
            "scale":true
        },
        {
            "pitch": -9.4,
            "yaw": 222.6,
            "cssClass": "custom-hotspot",
            "createTooltipFunc": hotspot,
            "createTooltipArgs": "Art Museum Drive"
        },
        {
            "pitch": -9.4,
            "yaw": 222.6,
            "type": "info",
            "text": "Art Museum Drive",
            "clickHandlerFunc":showModal,
            "clickHandlerArgs":{"modalId":"pika1"}
        },
        {
            "pitch": -0.9,
            "yaw": 144.4,
            "cssClass": "custom-hotspot",
            "createTooltipFunc": hotspot,
            "createTooltipArgs": "North Charles Street"
        },
        {
            "pitch": 0,
            "yaw": -30,
            "type": "info",
            "title": "Pikachu transparente",
            "cssClass": "custom-hotspot-pokemon",
            "createTooltipFunc": hotspotPokemon,
            "createTooltipArgs": "Pikachu transparente"
        },
        {
            "pitch": 6,
            "yaw": -30,
            "type": "info",
            "text": "Pikachu transparente",
        },
        {
            "pitch": 8,
            "yaw": 30,
            "type": "info",
            "text": "Pikachu",
            "cssClass": "custom-hotspot-pokemon",
            "createTooltipFunc": hotspotPokemonPikachu,
            "createTooltipArgs": "Pikachu",
            "scale":true
        },
        {
            "pitch": 14,
            "yaw": 30,
            "type": "info",
            "text": "Pikachu amarillo"
  
        },
    ]
});

function showModal(event,clickHandlerArgs) {
    var modal = document.getElementById(clickHandlerArgs.modalId);
    var spanClose = modal.getElementsByClassName("close")[0];
    modal.style.display = "block";
    spanClose.onclick = function() {
        modal.style.display = "none";
    }
}

// Hot spot creation function
function hotspot(hotSpotDiv, args) {
    hotSpotDiv.classList.add('custom-tooltip');
    var span = document.createElement('span');
    span.innerHTML = args;
    hotSpotDiv.appendChild(span);
    span.style.width = span.scrollWidth - 20 + 'px';
    span.style.marginLeft = -(span.scrollWidth - hotSpotDiv.offsetWidth) / 2 + 'px';
    span.style.marginTop = -span.scrollHeight - 12 + 'px';
}

function hotspotPokemon(hsDiv, args) {
    //hsDiv.classList.add('custom-tooltip');
    
    // Crea un elemento img para contener la imagen SVG
    var img = document.createElement('img');
    // Ajusta la URL de la imagen SVG aquí
    img.src = './images/Pikachu_svgwaves_io.svg';
    img.alt = args; // Puedes usar 'args' como texto alternativo para la imagen
    img.style.width = '150%'; // Ajusta esto según necesites
    img.style.height = 'auto'; // Esto mantiene la proporción de la imagen
    
    // Agrega el elemento img al hotspot
    hsDiv.appendChild(img);
}

function hotspotPokemonPikachu(hsDiv, args) {
    //hsDiv.classList.add('custom-tooltip');
    
    // Crea un elemento img para contener la imagen SVG
    var img = document.createElement('img');
    // Ajusta la URL de la imagen SVG aquí
    img.src = './images/Pikachu_Sliced.svg';
    img.alt = args; // Puedes usar 'args' como texto alternativo para la imagen
    img.style.width = '150%'; // Ajusta esto según necesites
    img.style.height = 'auto'; // Esto mantiene la proporción de la imagen
    
    // Agrega el elemento img al hotspot
    hsDiv.appendChild(img);
}

</script>


<script>
    // Espera a que el contenido de la página se haya cargado completamente
document.addEventListener('DOMContentLoaded', function() {
    // Encuentra el elemento div por sus clases
    var compassElement = document.querySelector('.pnlm-compass.pnlm-controls.pnlm-control');

    // Asegúrate de que el elemento existe en el documento
    if(compassElement) {
        // Agrega un event listener para el evento 'click'
        compassElement.addEventListener('click', function() {
            // Carga la página de Google
            window.location.href = '../index.html';
        });
    } else {
        console.log('El elemento con las clases pnlm-compass pnlm-controls pnlm-control no se encontró en el documento.');
    }
});
</script>

</body>
</html>